'use strict';var $g;m("mr.IssueSeverity",{B9:"fatal",pba:"warning",J$:"notification"},void 0);m("mr.IssueAction",{o9:"dismiss",r$:"learn_more"},void 0);var ah=function(a,b,c){this.routeId=null;this.severity=b;this.isBlocking="fatal"==this.severity?!0:!1;this.title=a;this.message=null;this.defaultAction=c;this.helpPageId=this.secondaryActions=null};ah.prototype.S3=function(a){this.helpPageId=a;return this};ah.prototype.r5=function(a){this.secondaryActions=a;return this};
ah.prototype.X3=function(a){if(!a&&"fatal"==this.severity)throw Error("All FATAL issues must be blocking.");this.isBlocking=a;return this};var bh=function(a){this.Ib=a;this.Uk=t()},ch=C("mr.Timing");bh.prototype.Gu=function(a,b){null!=b&&(a+="_"+b);return a};bh.prototype.Lk=function(a){this.Ib=a};bh.prototype.end=function(a){var b=t()-this.Uk;dh(this.Gu(this.Ib,a),b)};var dh=function(a,b){0>b&&(E(ch,"Timing analytics event with negative time"),b=0);1E4<b&&(b=1E4);try{chrome.metricsPrivate.recordTime(a,b)}catch(c){E(ch,"Failed to record time "+b+" in "+a)}},eh=function(a){bh.call(this,a)};u(eh,bh);var fh=C("mr.MediumTiming");
eh.prototype.end=function(a){var b=t()-this.Uk;a=this.Gu(this.Ib,a);if(0>b)E(fh,"Timing analytics event with negative time");else{1E4>b&&(b=1E4);18E4<b&&(b=18E4);try{chrome.metricsPrivate.recordMediumTime(a,b)}catch(c){E(fh,"Failed to record time "+b+" in "+a)}}};var gh=function(a){bh.call(this,a)};u(gh,bh);var hh=C("mr.LongTiming");
gh.prototype.end=function(a){var b=t()-this.Uk;a=this.Gu(this.Ib,a);if(0>b)E(hh,"Timing analytics event with negative time");else{18E4>b&&(b=18E4);36E5<b&&(b=36E5);try{chrome.metricsPrivate.recordLongTime(a,b)}catch(c){E(hh,"Failed to record time "+b+" in "+a)}}};
var ih=C("mr.Analytics"),jh=function(a){try{chrome.metricsPrivate.recordUserAction(a)}catch(b){E(ih,"Failed to record event "+a)}},kh=function(a,b,c){var e,f=0,g;for(g in c)f++,c[g]==b&&(e=g);if(l(e)){c={metricName:a,type:"histogram-linear",min:1,max:f,buckets:f+1};try{chrome.metricsPrivate.recordValue(c,b)}catch(k){E(ih,"Failed to record enum value "+e+" ("+b+") in "+a,k)}}else D(ih,"Unknown analytics value, "+b+" for histogram, "+a,Error())};var lh={U8:0,S8:1,W8:2,T8:3,A8:4,V8:5,W9:6,Vaa:7,k9:8,lz:9},mh=function(a){kh("MediaRouter.Mirror.Capturing.Failure",a,lh)};var nh=function(a){this.Ui=a;this.Ph=this.Nm=null;this.a=C("mr.mirror.MediaStream")},oh={message:"empty-stream"};d=nh.prototype;d.K4=function(a){this.Nm=a};d.jC=function(){return this.Ui};d.start=function(){return this.Ui.FE()?this.F6():this.w6()};
d.F6=function(){var a=this.Ui.XJ();F(this.a,"Starting tab capture with constraints "+JSON.stringify(a));return(new ie(function(b,c){chrome.tabCapture.capture(a,function(a){a?(this.pJ(a),b(this)):c(Error(chrome.runtime.lastError&&chrome.runtime.lastError.message?chrome.runtime.lastError.message:oh))}.bind(this));df(function(){c(Error("chrome.tabCapture.capture failed to call its callback"))},5E3,this)},this)).na(function(a){this.XF(a)},this)};
d.eW=function(a){a&&F(this.a,"Track "+JSON.stringify(a.target)+" ended");this.stop()};d.XF=function(a){var b="";a.name&&(b=a.name);a.message&&(b&&(b+="-"),b+=a.message);a=this.Ui.xt;"tab"==a&&"empty_stream"==b?mh(0):"desktop"==a&&"Error-timeout"==b?mh(1):"desktop"==a&&"Error-user_cancel"==b?mh(3):"tab"==a&&"Error-timeout"==b?mh(5):mh(9);throw Error("Failed to capture "+this.Ui.xt);};
d.w6=function(){return(new ie(function(a,b){var c=this.Ui.XJ();F(this.a,"Starting desktop capture with constraints "+JSON.stringify(c));navigator.webkitGetUserMedia(c,a,b)},this)).then(function(a){if(a)this.pJ(a);else throw Error(oh);return this},null,this).na(function(a){this.XF(a)},this)};d.pJ=function(a){this.Ph=a;a.getTracks().forEach(function(a){a.onended=this.eW.bind(this)},this)};
d.stop=function(){this.Ph&&(this.Ph.getTracks().forEach(function(a){a.onended=null;a.stop()}),this.Ph=null,this.Nm&&this.Nm())};var qh=function(a){return ph(a)||"urn:x-org.chromium.media:source:desktop"==a},rh=["https://docs.google.com"],ph=function(a){return Ma(a,"urn:x-org.chromium.media:source:tab:")||-1!=a.indexOf("0F5096E8")};var sh=function(a){return(new ie(function(b){chrome.tabs.get(a,b)})).then(function(b){if(!b)throw Error("No such tab "+a);return b})};var th=chrome.i18n.getMessage("1639753794700094338");var uh=function(a,b){ve.call(this);this.F2=a;this.Rh=b;this.bh=this.Pa=null;this.m=C("mr.mirror.Service."+a);this.vG=r(this.cW,this);this.tl=!1};u(uh,ve);d=uh.prototype;d.getName=function(){return this.F2};d.Jn=function(a,b,c,e){F(this.m,"Start mirroring on route "+a.id);return ph(b)?sh(a.pe.tabId).then(function(){return this.kB(a,b,c,e)},function(a){this.nF(a);throw a;},this):this.kB(a,b,c,e)};
d.kB=function(a,b,c,e){var f=this.Cj(b,c);return this.NJ().then(function(){return(new nh(f.jC())).start()}).then(function(b){this.bh=b;b.K4(r(this.Nm,this,b));return e?e(a):a},null,this).then(function(a){this.Pa=this.Nt(f,a);return this.Pa.start(this.bh.Ph)},null,this).then(function(){f.GE()?(chrome.tabs.onUpdated.addListener(this.vG),this.Pa.J7(a.pe.tabId).then(this.Pa.Cx.bind(this.Pa),function(a){D(this.m,"Failed to obtain initial tab info.",a)},this),this.gx()):(this.Pa.RI("Capturing Desktop",
"Capturing Desktop",null),this.cx(),this.Pa.Cx());this.aO(c,this.bh);return this.Pa.Ea},null,this).na(function(a){this.nF(a);this.If();throw a;},this)};d.nF=function(a){var b="";a.name&&(b=a.name);a.message&&(b&&(b+="-"),b+=a.message);b||(b="Error-unknown");this.ex(b)};d.Nm=function(a){this.bh==a&&(this.fx(),this.If())};d.NJ=function(){return this.If().then(function(a){a&&this.dx();return a},null,this)};
d.If=function(){if(this.tl)return H(!1);this.tl=!0;chrome.tabs.onUpdated.removeListener(this.vG);this.bh&&(this.bh.stop(),this.bh=null);if(this.Pa)return this.Yz().then(function(){this.Pa&&(this.Pa.stop(),this.Pa.ib(),this.Rh.zw(this.Pa.Ea.id),this.Pa=null);this.tl=!1;return!0},function(a){D(this.m,"Error cleaning up",a);this.tl=!1},this);this.tl=!1;return H(!1)};d.Yz=function(){return H()};
d.cW=function(a,b,c){this.Pa&&this.Pa.tabId&&this.Pa.tabId==a&&("complete"==b.status||b.favIconUrl&&"complete"==c.status)&&(this.Pa.rK(c),this.Rh.fG(this.Pa.Ea),this.Pa.Cx())};d.aO=function(a,b){a.captureAudio&&b.Ph&&!b.Ph.getAudioTracks().length&&this.Rh.Ve().send(new ah(th,"notification","dismiss"))};var vh=function(a){ve.call(this);this.Ea=a;this.pq=!1;this.tabId=this.mx=this.iconUrl=null};u(vh,ve);d=vh.prototype;d.RI=function(a,b,c){this.Ea.description=a;this.pq||this.Ea.offTheRecord?this.iconUrl=this.mx=null:(this.mx=b,this.iconUrl=c)};d.Cx=function(){this.pq||this.Ea.offTheRecord||this.XH()};d.J7=function(a){this.tabId=a;return sh(a).then(this.rK.bind(this))};
d.rK=function(a){this.pq=a.incognito;this.RI(a.title,Ma(a.url,"file://")?"Local content (Tab)":hf(a.url.match(gf)[3]||null,!0)+" (Tab)",a.favIconUrl)};d.XH=ya;d.K=function(){this.stop()};var wh=function(a,b){this.type=a;this.data=b},xh=function(a){a=JSON.parse(a);if(!a.type)throw Error("Invalid message");return new wh(a.type,a.data)},yh=function(a,b,c){this.settings=a;this.mediaConstraints=b;this.description=c};var zh=function(a){this.E2=a};zh.prototype.Bm=function(){return H(this.E2)};var Ah=function(a,b){this.width=a;this.height=b};d=Ah.prototype;d.clone=function(){return new Ah(this.width,this.height)};d.toString=function(){return"("+this.width+" x "+this.height+")"};d.QM=function(){return this.width*this.height};d.Db=function(){return!this.QM()};d.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};d.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
d.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};d.scale=function(a,b){b=q(b)?b:a;this.width*=a;this.height*=b;return this};var Bh=!Yc&&!Wc||Wc&&9<=Number(td)||Yc&&rd("1.9.1");Wc&&rd("9");var Dh=function(a,b){Ob(b,function(b,e){"style"==e?a.style.cssText=b:"class"==e?a.className=b:"for"==e?a.htmlFor=b:Ch.hasOwnProperty(e)?a.setAttribute(Ch[e],b):Ma(e,"aria-")||Ma(e,"data-")?a.setAttribute(e,b):a[e]=b})},Ch={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Eh=function(a){return a?a.parentWindow||a.defaultView:
window},Gh=function(a,b,c,e){function f(c){c&&b.appendChild(n(c)?a.createTextNode(c):c)}for(;e<c.length;e++){var g=c[e];!Da(g)||Fa(g)&&0<g.nodeType?f(g):v(Fh(g)?y(g):g,f)}},Hh=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},Fh=function(a){if(a&&"number"==typeof a.length){if(Fa(a))return"function"==typeof a.item||"string"==typeof a.item;if(Ea(a))return"function"==typeof a.item}return!1},Ih=function(a){this.fp=a||h.document||document};d=Ih.prototype;d.setProperties=Dh;
d.createElement=function(a){return this.fp.createElement(a)};d.createTextNode=function(a){return this.fp.createTextNode(String(a))};d.getWindow=function(){var a=this.fp;return a.parentWindow||a.defaultView};d.appendChild=function(a,b){a.appendChild(b)};d.append=function(a,b){Gh(9==a.nodeType?a:a.ownerDocument||a.document,a,arguments,1)};d.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
d.removeNode=Hh;d.getChildren=function(a){return Bh&&void 0!=a.children?a.children:mb(a.childNodes,function(a){return 1==a.nodeType})};d.isElement=function(a){return Fa(a)&&1==a.nodeType};d.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var Jh=function(a,b){this.wr=[];this.WF=a;this.$A=b||null;this.jm=this.Wb=!1;this.qf=void 0;this.ly=this.VM=this.it=!1;this.ms=0;this.wb=null;this.Eo=0};d=Jh.prototype;d.cancel=function(a){if(this.Wb)this.qf instanceof Jh&&this.qf.cancel();else{if(this.wb){var b=this.wb;delete this.wb;a?b.cancel(a):b.XM()}this.WF?this.WF.call(this.$A,this):this.ly=!0;this.Wb||this.ra(new Kh(this))}};d.XM=function(){this.Eo--;0>=this.Eo&&this.cancel()};d.RA=function(a,b){this.it=!1;this.Iy(a,b)};
d.Iy=function(a,b){this.Wb=!0;this.qf=b;this.jm=!a;this.MB()};d.sA=function(){if(this.Wb){if(!this.ly)throw new Lh(this);this.ly=!1}};d.callback=function(a){this.sA();this.Iy(!0,a)};d.ra=function(a){this.sA();this.Iy(!1,a)};d.ka=function(a,b){return this.Pg(a,null,b)};d.ic=function(a,b){return this.Pg(null,a,b)};d.rM=function(a,b){return this.Pg(a,a,b)};d.Pg=function(a,b,c){this.wr.push([a,b,c]);this.Wb&&this.MB();return this};
d.then=function(a,b,c){var e,f,g=new ie(function(a,b){e=a;f=b});this.Pg(e,function(a){a instanceof Kh?g.cancel():f(a)});return g.then(a,b,c)};fe(Jh);d=Jh.prototype;d.yt=function(a){this.Pg(a.callback,a.ra,a);return this};d.Uz=function(a){return a instanceof Jh?this.ka(r(a.lt,a)):this.ka(function(){return a})};d.lt=function(a){var b=new Jh;this.yt(b);a&&(b.wb=this,this.Eo++);return b};d.LW=function(a){return a instanceof Error};d.bE=function(){return nb(this.wr,function(a){return Ea(a[1])})};
d.MB=function(){if(this.ms&&this.Wb&&this.bE()){var a=this.ms,b=Mh[a];b&&(b.I1(),delete Mh[a]);this.ms=0}this.wb&&(this.wb.Eo--,delete this.wb);for(var a=this.qf,c=b=!1;this.wr.length&&!this.it;){var e=this.wr.shift(),f=e[0],g=e[1],e=e[2];if(f=this.jm?g:f)try{var k=f.call(e||this.$A,a);l(k)&&(this.jm=this.jm&&(k==a||this.LW(k)),this.qf=a=k);if(ge(a)||"function"===typeof h.Promise&&a instanceof h.Promise)this.it=c=!0}catch(p){a=p,this.jm=!0,this.bE()||(b=!0)}}this.qf=a;c&&(k=r(this.RA,this,!0),c=r(this.RA,
this,!1),a instanceof Jh?(a.Pg(k,c),a.VM=!0):a.then(k,c));b&&(a=new Nh(a),Mh[a.gd]=a,this.ms=a.gd)};var Oh=function(a){var b=new Jh;b.callback(a);return b},Ph=function(a){var b=new Jh;b.ra(a);return b},Lh=function(){La.call(this)};u(Lh,La);Lh.prototype.message="Deferred has already fired";Lh.prototype.name="AlreadyCalledError";var Kh=function(){La.call(this)};u(Kh,La);Kh.prototype.message="Deferred was canceled";Kh.prototype.name="CanceledError";
var Nh=function(a){this.gd=h.setTimeout(r(this.c7,this),0);this.hp=a};Nh.prototype.c7=function(){delete Mh[this.gd];throw this.hp;};Nh.prototype.I1=function(){h.clearTimeout(this.gd)};var Mh={};var Uh=function(a,b){var c=b||{};b=c.document||document;var e=document.createElement("SCRIPT"),f={RH:e,On:void 0},g=new Jh(Qh,f),k=null,p=null!=c.timeout?c.timeout:5E3;0<p&&(k=window.setTimeout(function(){Rh(e,!0);g.ra(new Sh(1,"Timeout reached for loading script "+a))},p),f.On=k);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(Rh(e,c.Uca||!1,k),g.callback(null))};e.onerror=function(){Rh(e,!0,k);g.ra(new Sh(0,"Error while loading script "+
a))};f=c.attributes||{};Zb(f,{type:"text/javascript",charset:"UTF-8",src:a});Dh(e,f);Th(b).appendChild(e);return g},Th=function(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement},Qh=function(){if(this&&this.RH){var a=this.RH;a&&"SCRIPT"==a.tagName&&Rh(a,!0,this.On)}},Rh=function(a,b,c){null!=c&&h.clearTimeout(c);a.onload=ya;a.onerror=ya;a.onreadystatechange=ya;b&&window.setTimeout(function(){Hh(a)},0)},Sh=function(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=
": "+b);La.call(this,c);this.code=a};u(Sh,La);var Vh=function(){this.Rh=this.cq=null;this.gw=J()};za(Vh);Vh.prototype.Bm=function(){if(this.cq)return H(this.cq);this.tX().then(null,function(){this.gw.reject(Error("Failed to load hangouts mirroring script."))},this);return this.gw.promise};Vh.prototype.p4=function(a){this.Rh=a};Vh.prototype.iH=function(a){this.Rh&&(this.cq=a(this.Rh),this.gw.resolve(this.cq))};Vh.prototype.tX=function(){var a=chrome.extension.getURL("mirroring_hangouts.js");return Uh(a)};var Wh=function(){return null!=hc&&-1!=hc.indexOf("CrOS")},Xh=function(){var a=hc;if(!n(a))return!1;a=a.match(/Windows NT \d+.\d+/);if(null===a||!Ca(a))return!1;a=a[0];a=a.match(/\d+.\d+/);if(null===a||!Ca(a))return!1;a=a[0];return 6.2<=parseFloat(a)};var Yh="undefined"!=typeof chrome&&!!chrome.networkingPrivate&&!!chrome.networkingPrivate.setWifiTDLSEnabledState&&Wh(),Zh=Wh()||dd;var ai=function(){this.maxWidth=1920;this.maxHeight=1080;this.minWidth=320;this.minHeight=180;this.maxFrameRate=30;this.minVideoBitrate=300;this.maxVideoBitrate=5E3;this.audioBitrate=128;this.maxLatencyMillis=800;this.minLatencyMillis=120;this.animatedLatencyMillis=400;this.dscpEnabled=cd||ed||Wh()||Xh();this.enableLogging=!0;this.useTdls=!1;this.captureAudio=this.captureVideo=!0;this.a=C("mr.mirror.Settings");var a=window.localStorage?window.localStorage.getItem($h):null;if(n(a))try{var b=JSON.parse(a);
b&&(this.uK(b),E(this.a,"Initial mr.mirror.Settings overridden to: "+this.wy()))}catch(c){throw D(this.a,$h+' must be of the form \'{"maxWidth":640, "maxHeight":360}\'.',c),Error("Overrides not parseable.  See ERROR log for details.");}},$h="mr.mirror.Settings.Overrides";d=ai.prototype;d.clone=function(){var a=new ai;a.uK(this);return a};d.wy=function(){return JSON.stringify(this,function(a,b){if(0==a.length||"boolean"==typeof b||"number"==typeof b||"string"==typeof b)return b})};
d.uK=function(a){for(var b in this){var c=a[b];if(null!=c){var e=this[b];"boolean"!=typeof e&&"number"!=typeof e&&"string"!=typeof e||typeof e!=typeof c||(this[b]=c)}}};
d.fO=function(){var a=screen.width,b=screen.height;this.maxHeight*a<this.maxWidth*b?(a=Math.min(this.maxWidth,a),a-=a%160,b=90*a/160):(b=Math.min(this.maxHeight,b),b-=b%90,a=160*b/90);if(a<Math.max(160,this.minWidth)||b<Math.max(90,this.minHeight))a=Math.max(160,this.minWidth),b=Math.max(90,this.minHeight);this.maxWidth=a;this.maxHeight=b};d.nP=function(){this.minHeight=this.minWidth=0};
var bi=function(a,b){var c=new ai;c.captureAudio=a;c.captureVideo=b;c.fO();F(c.a,"mr.mirror.Settings after screen size adjustments: "+c.wy());return c};ai.prototype.mT=function(){return String(this.minWidth+"x"+this.minHeight)};ai.prototype.WS=function(){return String(this.maxWidth+"x"+this.maxHeight)};ai.prototype.mU=function(){return this.minWidth==this.maxWidth&&this.minHeight==this.maxHeight?"fixed":0<this.minWidth&&0<this.minHeight?"fixed-aspect-ratio":"variable"};var ci=function(a,b){this.xt=a;this.Eb=b};ci.prototype.FE=function(){return"tab"==this.xt};ci.prototype.XJ=function(){return this.FE()?this.h7():this.g7()};ci.prototype.h7=function(){var a={audio:this.Eb.captureAudio,video:this.Eb.captureVideo};this.Eb.captureVideo&&(a.videoConstraints={mandatory:{minWidth:this.Eb.minWidth,minHeight:this.Eb.minHeight,maxWidth:this.Eb.maxWidth,maxHeight:this.Eb.maxHeight,maxFrameRate:this.Eb.maxFrameRate,enableAutoThrottling:!0}});return a};
ci.prototype.g7=function(){var a={audio:!1,video:!1};this.Eb.captureVideo&&(a.video={mandatory:{chromeMediaSource:"screen",minWidth:this.Eb.minWidth,minHeight:this.Eb.minHeight,maxWidth:this.Eb.maxWidth,maxHeight:this.Eb.maxHeight,maxFrameRate:this.Eb.maxFrameRate}});Zh&&this.Eb.captureAudio&&(a.audio={mandatory:{chromeMediaSource:"system"}});return a};var di=function(a,b){this.RX=a;this.Eb=b};d=di.prototype;d.Zf=function(){return this.Eb};d.jC=function(){return this.GE()?this.VU():this.FR()};d.GE=function(){return ph(this.RX)};d.VU=function(){return new ci("tab",this.Eb)};d.FR=function(){return new ci("desktop",this.Eb)};var ei=function(a){ve.call(this);this.v=a;this.sa={}};u(ei,ve);var fi=[];d=ei.prototype;d.listen=function(a,b,c,e){return this.fF(a,b,c,e)};d.pX=function(a,b,c,e,f){return this.fF(a,b,c,e,f)};d.fF=function(a,b,c,e,f){Ca(b)||(b&&(fi[0]=b.toString()),b=fi);for(var g=0;g<b.length;g++){var k=Qe(a,b[g],c||this.handleEvent,e||!1,f||this.v||this);if(!k)break;this.sa[k.key]=k}return this};d.Am=function(a,b,c,e){return this.dF(a,b,c,e)};
d.dF=function(a,b,c,e,f){if(Ca(b))for(var g=0;g<b.length;g++)this.dF(a,b[g],c,e,f);else{a=Xe(a,b,c||this.handleEvent,e,f||this.v||this);if(!a)return this;this.sa[a.key]=a}return this};d.Xc=function(a,b,c,e,f){if(Ca(b))for(var g=0;g<b.length;g++)this.Xc(a,b[g],c,e,f);else c=c||this.handleEvent,f=f||this.v||this,c=Re(c),e=!!e,b=Ie(a)?a.Wl(b,c,e,f):a?(a=Te(a))?a.Wl(b,c,e,f):null:null,b&&(Ze(b),delete this.sa[b.key]);return this};
d.removeAll=function(){Ob(this.sa,function(a,b){this.sa.hasOwnProperty(b)&&Ze(a)},this);this.sa={}};d.K=function(){ei.R.K.call(this);this.removeAll()};d.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var gi=function(a){this.ik=0;this.$j=a||100;this.Fe=[]};d=gi.prototype;d.add=function(a){var b=this.Fe[this.ik];this.Fe[this.ik]=a;this.ik=(this.ik+1)%this.$j;return b};d.get=function(a){a=this.PF(a);return this.Fe[a]};d.set=function(a,b){a=this.PF(a);this.Fe[a]=b};d.N=function(){return this.Fe.length};d.Db=function(){return 0==this.Fe.length};d.clear=function(){this.ik=this.Fe.length=0};d.A=function(){return this.zT(this.N())};
d.zT=function(a){var b=this.N(),c=[];for(a=this.N()-a;a<b;a++)c.push(this.get(a));return c};d.ab=function(){for(var a=[],b=this.N(),c=0;c<b;c++)a[c]=c;return a};d.Oa=function(a){return a<this.N()};d.bj=function(a){for(var b=this.N(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};d.PF=function(a){if(a>=this.Fe.length)throw Error("Out of bounds exception");return this.Fe.length<this.$j?a:(this.ik+Number(a))%this.$j};var hi=function(){this.kH=t()},ii=new hi;hi.prototype.set=function(a){this.kH=a};hi.prototype.reset=function(){this.set(t())};hi.prototype.get=function(){return this.kH};var ji=function(a){this.e0=a||"";this.G6=ii};d=ji.prototype;d.Lz=!0;d.jy=!0;d.m6=!0;d.l6=!0;d.Sr=!1;d.ky=!1;
var li=function(a){a=new Date(a.UJ);return ki(a.getFullYear()-2E3)+ki(a.getMonth()+1)+ki(a.getDate())+" "+ki(a.getHours())+":"+ki(a.getMinutes())+":"+ki(a.getSeconds())+"."+ki(Math.floor(a.getMilliseconds()/10))},ki=function(a){return 10>a?"0"+a:String(a)},mi=function(a,b){a=(a.UJ-b)/1E3;b=a.toFixed(3);var c=0;if(1>a)c=2;else for(;100>a;)c++,a*=10;for(;0<c--;)b=" "+b;return b},ni=function(a){ji.call(this,a)};u(ni,ji);
ni.prototype.QB=function(a){var b=[];b.push(this.e0," ");this.jy&&b.push("[",li(a),"] ");this.m6&&b.push("[",mi(a,this.G6.get()),"s] ");this.l6&&b.push("[",a.oF,"] ");this.ky&&b.push("[",a.Jh.name,"] ");b.push(a.getMessage());this.Sr&&(a=a.np)&&b.push("\n",a instanceof Error?a.message:a.toString());this.Lz&&b.push("\n");return b.join("")};var oi=function(a){return(a=a.exec(hc))?a[1]:""},pi=function(){if(zf)return oi(/Firefox\/([0-9.]+)/);if(Wc||Xc||Vc)return pd;if(Df)return oi(/Chrome\/([0-9.]+)/);if(Ef&&!(Uc()||z("iPad")||z("iPod")))return oi(/Version\/([0-9.]+)/);if(Af||Bf){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(hc);if(a)return a[1]+"."+a[2]}else if(Cf)return(a=oi(/Android\s+([0-9.]+)/))?a:oi(/Version\/([0-9.]+)/);return""}();var qi=function(a,b,c,e,f,g,k){this.cd=null;this.AA=!1;this.zA=J();this.gc=[];this.ll=a?encodeURIComponent(String(a)):null;this.SB=null;!e&&b&&(this.SB=b);this.MM=c||null;this.yo=!e;this.gp=null!=f?f:null;this.Pq=g||null;this.S7=!!k};u(qi,ve);d=qi.prototype;d.init=function(){var a=r(function(a){this.cd=a;var b=xa("client.request",a),f=xa("auth",a);b&&f?this.WD():a.load("client",r(this.WD,this))},this),b=this.HB("gapi");b?a(b.gapi):this.sX(a);return this.zA.promise};
d.HB=function(a){for(var b=window,c=xa(a,b);!c&&b!=window.top&&this.JN(b.parent,a);)b=b.parent,c=xa(a,b);return c?b:null};d.JN=function(a,b){try{return!!a&&null!=a.location.href&&ye(a,b)}catch(c){return!1}};d.sX=function(a){var b=this.HB("gapi_onload");if(b){var c=b.gapi_onload;b.gapi_onload=function(){c();a(b.gapi)}}else window.gapi_onload=function(){a(window.gapi)},Uh("https://apis.google.com/js/client.js")};
d.WD=function(){for(var a=0;a<this.gc.length;a++)this.gc[a].lb.resolve(this.$H(this.gc[a].y1));this.AA=!0;this.zA.resolve(this.cd)};d.sendRequest=function(a){if(this.AA)return this.$H(a);var b=J();this.gc.push({y1:a,lb:b});return b.promise};
d.$H=function(a){var b,c,e,f=xa("config.get",this.cd);this.yo||(b=f("googleapis.config/auth/useFirstPartyAuth"),c=f("googleapis.config/auth/useOriginToken"));null!=this.gp&&(e=f("client/cors"));try{var g=xa("config.update",this.cd);this.yo||(g("googleapis.config/auth/useFirstPartyAuth",!1),g("googleapis.config/auth/useOriginToken",!1));null!=this.gp&&g("client/cors",this.gp);var k=xa("client.request",this.cd),p=this.KQ();a.headers&&Zb(p,a.headers);var w={headers:p,root:this.MM,path:a.path,method:a.method,
body:a.body},B=a.params||{};this.ll&&!this.Pq?Zb(B,{key:this.ll}):this.Pq&&Zb(B,{key:null});Vb(B)||(w.params=B);var L=H(k(w));a.callback&&L.then(function(b){a.callback.apply(null,[b.result,b])},function(b){a.callback.apply(null,[b.result,b])});return L}finally{g=xa("config.update",this.cd),this.yo||(g("googleapis.config/auth/useFirstPartyAuth",b),g("googleapis.config/auth/useOriginToken",c)),null!=this.gp&&g("client/cors",e)}};
d.KQ=function(){if(this.yo){if(this.Pq)return{Authorization:"Bearer "+this.Pq};var a=xa("auth.getAuthHeaderValueForFirstParty",this.cd);return{Authorization:this.S7?a([]):a(),"X-Goog-AuthUser":this.SB}}return{}};
